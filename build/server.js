(()=>{var e={7609:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(6471)),o=n(r(8724)),i=n(r(1444)),l=n(r(9558)),u=n(r(4433)),d=r(6109),s=r(5334),c=[{exact:!0,path:"/",component:a.default},{path:"/create",component:o.default},{path:"/life",component:i.default},{path:"/find",component:l.default},{path:"/self",component:u.default},{path:"/setting",component:d.Setting},{path:"/:id",component:s.Page}];t.default=c},3175:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.dbUpdate=t.dbDelete=t.dbNew=t.dbGet=t.dbAll=void 0;var a=n(r(12)),o=n(r(2531)),i=n(r(2373));function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d,s=(d=(0,i.default)(o.default.mark((function e(t){var r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.allDocs({include_docs:!0});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e){return d.apply(this,arguments)});t.dbAll=s;var c,f=(c=(0,i.default)(o.default.mark((function e(t,r,n){var a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get(r,n||{attachments:!0});case 3:return a=e.sent,e.abrupt("return",a);case 7:e.prev=7,e.t0=e.catch(0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),function(e,t,r){return c.apply(this,arguments)});t.dbGet=f,t.dbNew=function(e,t){try{return e.post(u({},t))}catch(e){}};var p,m=(p=(0,i.default)(o.default.mark((function e(t,r){var n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.get(r);case 3:return n=e.sent,e.next=6,t.remove(n);case 6:return a=e.sent,console.log("result",a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("err",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),function(e,t){return p.apply(this,arguments)});t.dbDelete=m;var v,g=(v=(0,i.default)(o.default.mark((function e(t,r){var n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t,r._id);case 2:return n=e.sent,e.prev=3,e.next=6,t.put(u(u({},r),{},{_rev:n._rev,_attachments:n._attachments}));case 6:return a=e.sent,e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])}))),function(e,t){return v.apply(this,arguments)});t.dbUpdate=g},7008:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.linkDb=t.localDb=t.hostDb=t.connectDb=void 0;var a=n(r(3317)),o=n(r(3407)),i=n(r(7196)),l=r(7611),u=["tw.db.nolotus.com"];a.default.plugin(o.default).plugin(i.default);var d=function(e){var t="userdb-"+(0,l.toHex)(e),r="https://"+u[0]+"/"+t+"/",n=new a.default(r),o=new a.default(e);return o.sync(n,{live:!0,retry:!0}).on("change",(function(e){})).on("complete",(function(e){})).on("paused",(function(e){})).on("active",(function(e){})).on("error",(function(e){console.log("sync err",e)})),{remote:n,local:o}};t.connectDb=d;var s=d("admin");t.hostDb=s;var c=new a.default("localDb");t.localDb=c;var f=d("_users");t.linkDb=f},3524:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={templateName:"simple",userInfo:{},navs:r(8318).defaultNavConfig,setting:{},authData:{isLogin:!1},userDb:{},modalInfo:{isVisible:!1}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case"fetch":return i(i({},e),{},{users:t.payload});case"modal":return i(i({},e),{},{modalInfo:i({isVisible:!0},r.modalInfo)});case"closeModal":return i(i({},e),{},{modalInfo:{isVisible:!1}});case"loginSuccess":return i(i({},e),{},{authData:{isLogin:!0},userInfo:t.payload.userInfo,userDb:t.payload.userDb});case"logout":return i(i({},e),{},{authData:{isLogin:!1},userInfo:{}});case"initSuccess":return i(i({},e),{},{nav:t.payload.nav,setting:t.payload.setting});default:return e}}},7427:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.selectNavs=t.selectUserInfo=void 0,t.selectUserInfo=function(e){return e.userInfo},t.selectNavs=function(e){return e.navs}},8535:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(7561),o=n(r(3524)),i=n(r(6631)),l=(0,a.createStore)(o.default,i.default.__REDUX_DEVTOOLS_EXTENSION__&&i.default.__REDUX_DEVTOOLS_EXTENSION__());t.default=l},7611:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTheme=function(e){(0,n.useLayoutEffect)((function(){for(var t in e)document.documentElement.style.setProperty("--"+t,e[t])}),[e])},t.toHex=t.themeMap=void 0;var n=r(9297),a=new Map([["dark",{"button-color":"#FFF"}],["light",{primaryColor:"#03a9f4",backgroundColor:"#fff",borderRadius:" 6px",neutralShade3:"#d1d3d4",neutralShade4:"#babdbf"}]]);t.themeMap=a,t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=e.charCodeAt(r).toString(16);return t}},1107:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=n(r(9914)).default.div.withConfig({displayName:"ArticleTitle__Wrap",componentId:"sc-17lfd5f-0"})(["display:flex;margin-top:5px;color:#1a1a1a;a{color:#1a1a1a;:hover{color:#6d6d6d;}}"]),i=function(e){var t=e.children;return a.default.createElement(o,null,t)};i.propTypes={};var l=i;t.default=l},4253:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Article=void 0;var o=a(r(9e3)),i=n(r(9297)),l=r(1058),u=a(r(4229)),d=a(r(9914)).default.div.withConfig({displayName:"Article__StyledArticle",componentId:"sc-1d1r98v-0"})(["width:90%;max-width:1050px;margin:3em auto 0;"]),s=function(e){var t=e.doc,r=e.readOnly,n=void 0===r||r,a=(0,i.useState)([]),u=(0,o.default)(a,2),s=u[0],c=u[1];return(0,i.useEffect)((function(){switch(console.log("doc",t),t.version){case"0.0.2":c(t.content);break;default:c(t.content)}return function(){}}),[t]),i.default.createElement(d,null,i.default.createElement(l.CurrentEditor,{readOnly:n,value:s}))};t.Article=s,s.propTypes={doc:u.default.object,readOnly:u.default.bool}},2566:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=n(r(4229)),i=n(r(9914)),l=r(799),u=r(887),d=i.default.div.withConfig({displayName:"CloseButton__WrapCloseButton",componentId:"sc-16gu7hv-0"})(["position:absolute;right:20px;top:20px;cursor:pointer;color:",";z-index:1;"],(function(e){return e.color?e.color:"rgba(191, 191, 191, 1)"})),s=function(e){var t=e.children;return a.default.createElement(d,e,a.default.createElement(l.FontAwesomeIcon,{icon:u.faTimes}),t)};s.propTypes={children:o.default.node};var c=s;t.default=c},7578:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5606)),o=n(r(9297)),i=n(r(4229)),l=r(1319),u=n(r(9914)).default.div.withConfig({displayName:"Button__WrapButton",componentId:"ackqjo-0"})(['outline:none;width:100%;text-align:center;display:inline-block;border:none;font:500 16px/1 "Poppins",sans-serif;padding:20px;cursor:pointer;border-radius:var(--borderRadius);background:var(--primaryColor);color:var(--backgroundColor);position:relative;top:0;transition:0.2s ease;:hover{top:-3px;box-shadow:0 2px 5px rgba(0,0,0,0.15);}']),d=function(e){e.type;var t=e.loading,r=void 0!==t&&t,n=e.children,i=e.preIcon;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u,(0,a.default)({type:"button"},e),i?o.default.createElement(o.default.Fragment,null,r?o.default.createElement(l.Loading,null):o.default.createElement("div",null,"icon placeholder"),n):o.default.createElement(o.default.Fragment,null,r?o.default.createElement(l.Loading,null):n)))};d.propTypes={type:i.default.string,children:i.default.node,onClick:i.default.func,loading:i.default.bool,className:i.default.string,disable:i.default.bool,size:i.default.object,preIcon:i.default.string};var s=d;t.default=s},7732:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.BlockEditor=void 0;var a=n(r(9297));t.BlockEditor=function(){return a.default.createElement("div",null)}},5424:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CHARACTERS=t.initialValue=void 0,t.initialValue=[{type:"paragraph",children:[{text:"In addition to nodes that contain editable text, you can also create other types of nodes, like images or videos."}]},{type:"image",url:"https://source.unsplash.com/kFrdX5IeQzI",children:[{text:""}]},{type:"paragraph",children:[{text:"This example shows images in action. It features two ways to add images. You can either add an image via the toolbar icon above, or if you want in on a little secret, copy an image URL to your keyboard and paste it anywhere in the editor!"}]},{children:[{text:"This example shows how you can make a hovering menu appear above your content, which you can use to make text "},{text:"bold",bold:!0},{text:", "},{text:"italic",italic:!0},{text:", or anything else you might want to do!"}]},{children:[{text:"Try it out yourself! Just "},{text:"select any piece of text and the menu will appear",bold:!0},{text:"."}]},{type:"paragraph",children:[{text:"This is editable "},{text:"rich",bold:!0},{text:" text, "},{text:"much",italic:!0},{text:" better than a "},{text:"<textarea>",code:!0},{text:"!"}]},{type:"paragraph",children:[{text:"Since it's rich text, you can do things like turn a selection of text "},{text:"bold",bold:!0},{text:", or add a semantically rendered block quote in the middle of the page, like this:"}]},{type:"block-quote",children:[{text:"A wise quote."}]},{type:"paragraph",children:[{text:"Try it out for yourself!"}]}],t.CHARACTERS=["Aayla Secura","Adi Gallia","Admiral Dodd Rancit","Admiral Firmus Piett","Admiral Gial Ackbar","Admiral Ozzel","Admiral Raddus","Admiral Terrinald Screed","Admiral Trench","Admiral U.O. Statura","Agen Kolar","Agent Kallus","Aiolin and Morit Astarte","Aks Moe","Almec","Alton Kastle","Amee","AP-5","Armitage Hux","Artoo","Arvel Crynyd","Asajj Ventress","Aurra Sing","AZI-3","Bala-Tik","Barada","Bargwill Tomder","Baron Papanoida","Barriss Offee","Baze Malbus","Bazine Netal","BB-8","BB-9E","Ben Quadinaros","Berch Teller","Beru Lars","Bib Fortuna","Biggs Darklighter","Black Krrsantan","Bo-Katan Kryze","Boba Fett","Bobbajo","Bodhi Rook","Borvo the Hutt","Boss Nass","Bossk","Breha Antilles-Organa","Bren Derlin","Brendol Hux","BT-1","C-3PO","C1-10P","Cad Bane","Caluan Ematt","Captain Gregor","Captain Phasma","Captain Quarsh Panaka","Captain Rex","Carlist Rieekan","Casca Panzoro","Cassian Andor","Cassio Tagge","Cham Syndulla","Che Amanwe Papanoida","Chewbacca","Chi Eekway Papanoida","Chief Chirpa","Chirrut Îmwe","Ciena Ree","Cin Drallig","Clegg Holdfast","Cliegg Lars","Coleman Kcaj","Coleman Trebor","Colonel Kaplan","Commander Bly","Commander Cody (CC-2224)","Commander Fil (CC-3714)","Commander Fox","Commander Gree","Commander Jet","Commander Wolffe","Conan Antonio Motti","Conder Kyl","Constable Zuvio","Cordé","Cpatain Typho","Crix Madine","Cut Lawquane","Dak Ralter","Dapp","Darth Bane","Darth Maul","Darth Tyranus","Daultay Dofine","Del Meeko","Delian Mors","Dengar","Depa Billaba","Derek Klivian","Dexter Jettster","Dineé Ellberger","DJ","Doctor Aphra","Doctor Evazan","Dogma","Dormé","Dr. Cylo","Droidbait","Droopy McCool","Dryden Vos","Dud Bolt","Ebe E. Endocott","Echuu Shen-Jon","Eeth Koth","Eighth Brother","Eirtaé","Eli Vanto","Ellé","Ello Asty","Embo","Eneb Ray","Enfys Nest","EV-9D9","Evaan Verlaine","Even Piell","Ezra Bridger","Faro Argyus","Feral","Fifth Brother","Finis Valorum","Finn","Fives","FN-1824","FN-2003","Fodesinbeed Annodue","Fulcrum","FX-7","GA-97","Galen Erso","Gallius Rax",'Garazeb "Zeb" Orrelios',"Gardulla the Hutt","Garrick Versio","Garven Dreis","Gavyn Sykes","Gideon Hask","Gizor Dellso","Gonk droid","Grand Inquisitor","Greeata Jendowanian","Greedo","Greer Sonnel","Grievous","Grummgar","Gungi","Hammerhead","Han Solo","Harter Kalonia","Has Obbit","Hera Syndulla","Hevy","Hondo Ohnaka","Huyang","Iden Versio","IG-88","Ima-Gun Di","Inquisitors","Inspector Thanoth","Jabba","Jacen Syndulla","Jan Dodonna","Jango Fett","Janus Greejatus","Jar Jar Binks","Jas Emari","Jaxxon","Jek Tono Porkins","Jeremoch Colton","Jira","Jobal Naberrie","Jocasta Nu","Joclad Danva","Joh Yowza","Jom Barell","Joph Seastriker","Jova Tarkin","Jubnuk","Jyn Erso","K-2SO","Kanan Jarrus","Karbin","Karina the Great","Kes Dameron","Ketsu Onyo","Ki-Adi-Mundi","King Katuunko","Kit Fisto","Kitster Banai","Klaatu","Klik-Klak","Korr Sella","Kylo Ren","L3-37","Lama Su","Lando Calrissian","Lanever Villecham","Leia Organa","Letta Turmond","Lieutenant Kaydel Ko Connix","Lieutenant Thire","Lobot","Logray","Lok Durd","Longo Two-Guns","Lor San Tekka","Lorth Needa","Lott Dod","Luke Skywalker","Lumat","Luminara Unduli","Lux Bonteri","Lyn Me","Lyra Erso","Mace Windu","Malakili","Mama the Hutt","Mars Guo","Mas Amedda","Mawhonic","Max Rebo","Maximilian Veers","Maz Kanata","ME-8D9","Meena Tills","Mercurial Swift","Mina Bonteri","Miraj Scintel","Mister Bones","Mod Terrik","Moden Canady","Mon Mothma","Moradmin Bast","Moralo Eval","Morley","Mother Talzin","Nahdar Vebb","Nahdonnis Praji","Nien Nunb","Niima the Hutt","Nines","Norra Wexley","Nute Gunray","Nuvo Vindi","Obi-Wan Kenobi","Odd Ball","Ody Mandrell","Omi","Onaconda Farr","Oola","OOM-9","Oppo Rancisis","Orn Free Taa","Oro Dassyne","Orrimarko","Osi Sobeck","Owen Lars","Pablo-Jill","Padmé Amidala","Pagetti Rook","Paige Tico","Paploo","Petty Officer Thanisson","Pharl McQuarrie","Plo Koon","Po Nudo","Poe Dameron","Poggle the Lesser","Pong Krell","Pooja Naberrie","PZ-4CO","Quarrie","Quay Tolsite","Queen Apailana","Queen Jamillia","Queen Neeyutnee","Qui-Gon Jinn","Quiggold","Quinlan Vos","R2-D2","R2-KT","R3-S6","R4-P17","R5-D4","RA-7","Rabé","Rako Hardeen","Ransolm Casterfo","Rappertunie","Ratts Tyerell","Raymus Antilles","Ree-Yees","Reeve Panzoro","Rey","Ric Olié","Riff Tamson","Riley","Rinnriyin Di","Rio Durant","Rogue Squadron","Romba","Roos Tarpals","Rose Tico","Rotta the Hutt","Rukh","Rune Haako","Rush Clovis","Ruwee Naberrie","Ryoo Naberrie","Sabé","Sabine Wren","Saché","Saelt-Marae","Saesee Tiin","Salacious B. Crumb","San Hill","Sana Starros","Sarco Plank","Sarkli","Satine Kryze","Savage Opress","Sebulba","Senator Organa","Sergeant Kreel","Seventh Sister","Shaak Ti","Shara Bey","Shmi Skywalker","Shu Mai","Sidon Ithano","Sifo-Dyas","Sim Aloo","Siniir Rath Velus","Sio Bibble","Sixth Brother","Slowen Lo","Sly Moore","Snaggletooth","Snap Wexley","Snoke","Sola Naberrie","Sora Bulq","Strono Tuggs","Sy Snootles","Tallissan Lintra","Tarfful","Tasu Leech","Taun We","TC-14","Tee Watt Kaa","Teebo","Teedo","Teemto Pagalies","Temiri Blagg","Tessek","Tey How","Thane Kyrell","The Bendu","The Smuggler","Thrawn","Tiaan Jerjerrod","Tion Medon","Tobias Beckett","Tulon Voidgazer","Tup","U9-C4","Unkar Plutt","Val Beckett","Vanden Willard","Vice Admiral Amilyn Holdo","Vober Dand","WAC-47","Wag Too","Wald","Walrus Man","Warok","Wat Tambor","Watto","Wedge Antilles","Wes Janson","Wicket W. Warrick","Wilhuff Tarkin","Wollivan","Wuher","Wullf Yularen","Xamuel Lennox","Yaddle","Yarael Poof","Yoda","Zam Wesell","Zev Senesca","Ziro the Hutt","Zuckuss"]},8507:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deserialize=void 0;var n=r(563),a={A:function(e){return{type:"link",url:e.getAttribute("href")}},BLOCKQUOTE:function(){return{type:"quote"}},H1:function(){return{type:"heading-one"}},H2:function(){return{type:"heading-two"}},H3:function(){return{type:"heading-three"}},H4:function(){return{type:"heading-four"}},H5:function(){return{type:"heading-five"}},H6:function(){return{type:"heading-six"}},IMG:function(e){return{type:"image",url:e.getAttribute("src")}},LI:function(){return{type:"list-item"}},OL:function(){return{type:"numbered-list"}},P:function(){return{type:"paragraph"}},PRE:function(){return{type:"code"}},UL:function(){return{type:"bulleted-list"}}},o={CODE:function(){return{code:!0}},DEL:function(){return{strikethrough:!0}},EM:function(){return{italic:!0}},I:function(){return{italic:!0}},S:function(){return{strikethrough:!0}},STRONG:function(){return{bold:!0}},U:function(){return{underline:!0}}};t.deserialize=function e(t){if(3===t.nodeType)return t.textContent;if(1!==t.nodeType)return null;if("BR"===t.nodeName)return"\n";var r=t.nodeName,i=t;"PRE"===r&&t.childNodes[0]&&"CODE"===t.childNodes[0].nodeName&&(i=t.childNodes[0]);var l=Array.from(i.childNodes).map(e).flat();if("BODY"===t.nodeName)return(0,n.jsx)("fragment",{},l);if(a[r]){var u=a[r](t);return(0,n.jsx)("element",u,l)}if(o[r]){var d=o[r](t);return l.map((function(e){return(0,n.jsx)("text",d,e)}))}return l}},1236:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Element=void 0;var a=n(r(5606)),o=n(r(9297)),i=r(6315),l=r(3267),u=function(e){var t=e.attributes,r=e.children,n=e.element,i=(0,l.useSelected)(),u=(0,l.useFocused)();return o.default.createElement("span",(0,a.default)({},t,{contentEditable:!1,style:{padding:"3px 3px 2px",margin:"0 1px",verticalAlign:"baseline",display:"inline-block",borderRadius:"4px",backgroundColor:"#eee",fontSize:"0.9em",boxShadow:i&&u?"0 0 0 2px #B4D5FF":"none"}}),"@",n.character,r)};t.Element=function(e){var t=e.attributes,r=e.children,n=e.element;switch(n.type){default:return o.default.createElement("p",t,r);case"quote":return o.default.createElement("blockquote",t,r);case"code":return o.default.createElement("pre",null,o.default.createElement("code",t,r));case"bulleted-list":return o.default.createElement("ul",t,r);case"heading-one":return o.default.createElement("h1",t,r);case"heading-two":return o.default.createElement("h2",t,r);case"heading-three":return o.default.createElement("h3",t,r);case"heading-four":return o.default.createElement("h4",t,r);case"heading-five":return o.default.createElement("h5",t,r);case"heading-six":return o.default.createElement("h6",t,r);case"list-item":return o.default.createElement("li",t,r);case"numbered-list":return o.default.createElement("ol",t,r);case"link":return o.default.createElement("a",(0,a.default)({href:n.url},t),r);case"image":return o.default.createElement(i.ImageElement,e);case"mention":return o.default.createElement(u,e)}}},6315:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.isImageUrl=t.insertImage=t.ImageElement=void 0;var a=n(r(5624)),o=r(560),i=n(r(7515)),l=n(r(2313)),u=r(3267),d=r(8337),s=n(r(9297));function c(){var e=(0,a.default)(["\n          display: block;\n          max-width: 100%;\n          max-height: 20em;\n          box-shadow: ",";\n        "]);return c=function(){return e},e}t.ImageElement=function(e){var t=e.attributes,r=e.children,n=e.element,a=(0,u.useSelected)(),o=(0,u.useFocused)();return s.default.createElement("div",t,r,s.default.createElement("img",{src:n.url,className:(0,d.css)(c(),a&&o?"0 0 0 2px blue;":"none")}))},t.insertImage=function(e,t){var r={type:"image",url:t,children:[{text:""}]};o.Transforms.insertNodes(e,r)},t.isImageUrl=function(e){if(!e)return!1;if(!(0,i.default)(e))return!1;var t=new URL(e).pathname.split(".").pop();return l.default.includes(t)}},2229:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Portal=void 0;var o=a(r(9e3)),i=n(r(9297)),l=r(3267),u=r(560),d=a(r(2268)),s=r(1641),c=r(8507),f=r(1236),p=r(8508),m=r(6315),v=r(5424),g=r(3715);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var b=function(e){var t=e.children;return d.default.createPortal(t,document.body)};t.Portal=b;var y={"*":"list-item","-":"list-item","+":"list-item",">":"block-quote","#":"heading-one","##":"heading-two","###":"heading-three","####":"heading-four","#####":"heading-five","######":"heading-six"},E=function(e){var t=e.deleteBackward,r=e.insertText,n=e.insertData,a=e.isInline,i=e.isVoid;return e.isInline=function(e){return"link"===e.type||a(e)},e.isVoid=function(e){return"image"===e.type||i(e)},e.insertData=function(t){var r=t.getData("text/html"),a=t.getData("text/plain"),i=t.files;if(i&&i.length>0)for(var l,d=function(t){var r=new FileReader,n=t.type.split("/");"image"===(0,o.default)(n,1)[0]&&(r.addEventListener("load",(function(){var t=r.result;(0,m.insertImage)(e,t)})),r.readAsDataURL(t))},s=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}(i);!(l=s()).done;)d(l.value);else(0,m.isImageUrl)(a)&&(0,m.insertImage)(e,a);if(r){var f=(new DOMParser).parseFromString(r,"text/html"),p=(0,c.deserialize)(f.body);u.Transforms.insertFragment(e,p)}else n(t)},e.insertText=function(t){var n=e.selection;if(" "===t&&n&&u.Range.isCollapsed(n)){var a=n.anchor,o=u.Editor.above(e,{match:function(t){return u.Editor.isBlock(e,t)}}),i=o?o[1]:[],l={anchor:a,focus:u.Editor.start(e,i)},d=u.Editor.string(e,l),s=y[d];if(s){u.Transforms.select(e,l),u.Transforms.delete(e);var c={type:s};return u.Transforms.setNodes(e,c,{match:function(t){return u.Editor.isBlock(e,t)}}),void("list-item"===s&&u.Transforms.wrapNodes(e,{type:"bulleted-list",children:[]},{match:function(e){return!u.Editor.isEditor(e)&&u.Element.isElement(e)&&"list-item"===e.type}}))}}r(t)},e.deleteBackward=function(){var r=e.selection;if(r&&u.Range.isCollapsed(r)){var n=u.Editor.above(e,{match:function(t){return u.Editor.isBlock(e,t)}});if(n){var a=(0,o.default)(n,2),i=a[0],l=a[1],d=u.Editor.start(e,l);if(!u.Editor.isEditor(i)&&u.Element.isElement(i)&&"paragraph"!==i.type&&u.Point.equals(r.anchor,d)){var s={type:"paragraph"};return u.Transforms.setNodes(e,s),void("list-item"===i.type&&u.Transforms.unwrapNodes(e,{match:function(e){return!u.Editor.isEditor(e)&&u.Element.isElement(e)&&"bulleted-list"===e.type},split:!0}))}}t.apply(void 0,arguments)}},e},w=[{type:"paragraph",children:[{text:'The editor gives you full control over the logic you can add. For example, it\'s fairly common to want to add markdown-like shortcuts to editors. So that, when you start a line with "> " you get a blockquote that looks like this:'}]},{type:"block-quote",children:[{text:"A wise quote."}]},{type:"paragraph",children:[{text:'Order when you start a line with "## " you get a level-two heading, like this:'}]},{type:"heading-two",children:[{text:"Try it out!"}]},{type:"paragraph",children:[{text:'Try it out for yourself! Try starting a new line with ">", "-", or "#"s.'}]}];t.default=function(e){var t=(0,i.useRef)(),r=(0,i.useState)(e.value||w),n=(0,o.default)(r,2),a=n[0],d=n[1];(0,i.useEffect)((function(){e.value&&d(e.value)}),[e.value]);var c=(0,i.useState)(),m=(0,o.default)(c,2),h=m[0],y=m[1],x=(0,i.useState)(""),k=(0,o.default)(x,2),S=k[0],C=k[1],D=(0,i.useState)(0),O=(0,o.default)(D,2),T=O[0],P=O[1],M=(0,i.useCallback)((function(e){return i.default.createElement(f.Element,e)}),[]),_=(0,i.useCallback)((function(e){return i.default.createElement(p.Leaf,e)}),[]),N=v.CHARACTERS.filter((function(e){return e.toLowerCase().startsWith(S.toLowerCase())})).slice(0,10),B=(0,i.useCallback)((function(e){if(h)switch(e.key){case"ArrowDown":e.preventDefault();var t=T>=N.length-1?0:T+1;P(t);break;case"ArrowUp":e.preventDefault();var r=T<=0?N.length-1:T-1;P(r);break;case"Tab":case"Enter":e.preventDefault(),u.Transforms.select(L,h),function(e,t){var r={type:"mention",character:t,children:[{text:""}]};u.Transforms.insertNodes(e,r),u.Transforms.move(e)}(L,N[T]),y(null);break;case"Escape":e.preventDefault(),y(null)}}),[T,S,h]),L=(0,i.useMemo)((function(){return(0,g.withLinks)(function(e){var t=e.isInline,r=e.isVoid;return e.isInline=function(e){return"mention"===e.type||t(e)},e.isVoid=function(e){return"mention"===e.type||r(e)},e}(E((0,l.withReact)((0,s.withHistory)((0,u.createEditor)())))))}),[]);return(0,i.useEffect)((function(){if(h&&N.length>0){var e=t.current,r=l.ReactEditor.toDOMRange(L,h).getBoundingClientRect();e.style.top=r.top+window.pageYOffset+24+"px",e.style.left=r.left+window.pageXOffset+"px"}}),[N.length,L,T,S,h]),i.default.createElement(l.Slate,{editor:L,value:a,onChange:function(t){d(t);var r=L.selection;if(r&&u.Range.isCollapsed(r)){var n=u.Range.edges(r),a=(0,o.default)(n,1)[0],i=u.Editor.before(L,a,{unit:"word"}),l=i&&u.Editor.before(L,i),s=l&&u.Editor.range(L,l,a),c=s&&u.Editor.string(L,s),f=c&&c.match(/^@(\w+)$/),p=u.Editor.after(L,a),m=u.Editor.range(L,a,p),v=u.Editor.string(L,m).match(/^(\s|$)/);if(f&&v)return y(s),C(f[1]),void P(0)}y(null),e.onChange&&e.onChange(t)}},i.default.createElement(l.Editable,{renderElement:M,renderLeaf:_,onKeyDown:B,autoFocus:!0}),h&&N.length>0&&i.default.createElement(b,null,i.default.createElement("div",{ref:t,style:{top:"-9999px",left:"-9999px",position:"absolute",zIndex:1,padding:"3px",background:"white",borderRadius:"4px",boxShadow:"0 1px 5px rgba(0,0,0,.2)"}},N.map((function(e,t){return i.default.createElement("div",{key:e,style:{padding:"1px 3px",borderRadius:"3px",background:t===T?"#B4D5FF":"transparent"}},e)})))))}},8508:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Leaf=void 0;var a=n(r(9297));t.Leaf=function(e){var t=e.attributes,r=e.children,n=e.leaf;return n.bold&&(r=a.default.createElement("strong",null,r)),n.code&&(r=a.default.createElement("code",null,r)),n.italic&&(r=a.default.createElement("em",null,r)),n.underline&&(r=a.default.createElement("u",null,r)),n.strikethrough&&(r=a.default.createElement("del",null,r)),a.default.createElement("span",t,r)}},3715:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.withLinks=void 0;var a=n(r(9e3)),o=r(560),i=n(r(7515)),l=function(e,t){(function(e){var t=o.Editor.nodes(e,{match:function(e){return!o.Editor.isEditor(e)&&o.Element.isElement(e)&&"link"===e.type}});return!!(0,a.default)(t,1)[0]})(e)&&function(e){o.Transforms.unwrapNodes(e,{match:function(e){return!o.Editor.isEditor(e)&&o.Element.isElement(e)&&"link"===e.type}})}(e);var r=e.selection,n=r&&o.Range.isCollapsed(r),i={type:"link",url:t,children:n?[{text:t}]:[]};n?o.Transforms.insertNodes(e,i):(o.Transforms.wrapNodes(e,i,{split:!0}),o.Transforms.collapse(e,{edge:"end"}))};t.withLinks=function(e){var t=e.insertData,r=e.insertText,n=e.isInline;return e.isInline=function(e){return"link"===e.type||n(e)},e.insertText=function(t){t&&(0,i.default)(t)?l(e,t):r(t)},e.insertData=function(r){var n=r.getData("text/plain");n&&(0,i.default)(n)?l(e,n):t(r)},e}},1058:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextEditor",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CurrentEditor",{enumerable:!0,get:function(){return o.default}});var a=n(r(3632)),o=n(r(2229))},3632:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(9e3)),i=n(r(9297)),l=n(r(2268)),u=r(6280),d=r(3050);t.default=function(e){e.onChange;var t=(0,i.useRef)(null),r=(0,i.useState)(""),n=(0,o.default)(r,2),a=n[0],s=n[1],c=(0,i.useState)([{type:"text",text:"test"}]),f=(0,o.default)(c,2),p=f[0],m=(f[1],function(e,t){(0,l.unstable_batchedUpdates)((function(){s("\n        <div>"+(0,d.stateToHtmlString)(p)+'</div>\n        <div style="display:inline;background:yellow;">'+Math.random()+"</div>")}))});return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{contentEditable:!0,onBlur:function(e){},onBeforeInput:function(e){e.preventDefault(),m(e,"input")},ref:t,onCompositionUpdate:function(e){e.preventDefault(),u.logOption.compositionUpdate&&console.log("compositionUpdate",e)},onCompositionStart:function(e){e.preventDefault(),u.logOption.compositionStart&&console.log("compositionStart",e)},onCompositionEnd:function(e){e.preventDefault(),u.logOption.compositionEnd&&console.log("compositionEnd",e),m(e,"composition")},dangerouslySetInnerHTML:{__html:a}}))}},6280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.logFliter=t.logOption=void 0;var r={onBeforeInput:!0,compositionUpdate:!1,compositionStart:!1,compositionEnd:!0,onlyShowData:!0};t.logOption=r,t.logFliter=function(e,t){r[t]&&(r.onlyShowData?console.log(t,e.data):console.log(t,e))}},3050:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.stateToHtmlString=t.stateToReact=void 0;var a=n(r(9297)),o=n(r(9747)),i=function(e){return a.default.createElement(a.default.Fragment,null,e.map((function(e,t){return console.log("node",e),a.default.createElement("div",{key:"node"+t},e.text)})))};t.stateToReact=i,t.stateToHtmlString=function(e){var t=o.default.renderToStaticMarkup(i(e));return console.log("nextHtmlString",t),t}},3267:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.withReact=t.useSlateStatic=t.useSlate=t.useSelected=t.useReadOnly=t.useFocused=t.useEditor=t.Slate=t.ReactEditor=t.Editable=t.DefaultLeaf=t.DefaultElement=void 0;var o=a(r(12)),i=a(r(5606)),l=a(r(1332)),u=a(r(9e3)),d=a(r(3315)),s=n(r(9297)),c=r(560),f=a(r(3348)),p=a(r(2400)),m=a(r(8379)),v=a(r(3333)),g=a(r(2268)),h=r(841);function b(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=e[Symbol.iterator]()).next.bind(r)}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var x=new WeakMap,k=new WeakMap,S={isHistoryEditor:function(e){return function(e){return(0,f.default)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||c.Operation.isOperationList(e.redos[0]))&&(0===e.undos.length||c.Operation.isOperationList(e.undos[0]))}(e.history)&&c.Editor.isEditor(e)},isMerging:function(e){return k.get(e)},isSaving:function(e){return x.get(e)},redo:function(e){e.redo()},undo:function(e){e.undo()},withoutMerging:function(e,t){var r=S.isMerging(e);k.set(e,!1),t(),k.set(e,r)},withoutSaving:function(e,t){var r=S.isSaving(e);x.set(e,!1),t(),x.set(e,r)}},C=0,D=function e(){(0,d.default)(this,e),this.id="".concat(C++)},O=new WeakMap,T=new WeakMap,P=new WeakMap,M=new WeakMap,_=new WeakMap,N=new WeakMap,B=new WeakMap,L=new WeakMap,R=new WeakMap,j=new WeakMap,F=Symbol("placeholder"),A=function(e){return I(e)&&1===e.nodeType},I=function(e){return e instanceof Node},W=function(e){return I(e)&&3===e.nodeType},q=function(e,t,r){for(var n,a=e.childNodes,o=a[t],i=t,l=!1,u=!1;(I(n=o)&&8===n.nodeType||A(o)&&0===o.childNodes.length||A(o)&&"false"===o.getAttribute("contenteditable"))&&(!l||!u);)i>=a.length?(l=!0,i=t-1,r="backward"):i<0?(u=!0,i=t+1,r="forward"):(o=a[i],i+="forward"===r?1:-1);return o},H=function e(t){var r="";if(W(t)&&t.nodeValue)return t.nodeValue;if(A(t)){for(var n=0,a=Array.from(t.childNodes);n<a.length;n++)r+=e(a[n]);var o=getComputedStyle(t).getPropertyValue("display");"block"!==o&&"list"!==o&&"BR"!==t.tagName||(r+="\n")}return r},z={findKey:function(e,t){var r=B.get(t);return r||(r=new D,B.set(t,r)),r},findPath:function(e,t){for(var r=[],n=t;;){var a=T.get(n);if(null==a){if(c.Editor.isEditor(n))return r;break}var o=O.get(n);if(null==o)break;r.unshift(o),n=a}throw new Error("Unable to find the path for Slate node: ".concat(JSON.stringify(t)))},isFocused:function(e){return!!R.get(e)},isReadOnly:function(e){return!!L.get(e)},blur:function(e){var t=z.toDOMNode(e,e);R.set(e,!1),window.document.activeElement===t&&t.blur()},focus:function(e){var t=z.toDOMNode(e,e);R.set(e,!0),window.document.activeElement!==t&&t.focus({preventScroll:!0})},deselect:function(e){var t=e.selection,r=window.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&c.Transforms.deselect(e)},hasDOMNode:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.editable,o=void 0!==a&&a,i=z.toDOMNode(e,e);try{r=A(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!r&&r.closest("[data-slate-editor]")===i&&(!o||r.isContentEditable||!!r.getAttribute("data-slate-zero-width"))},insertData:function(e,t){e.insertData(t)},setFragmentData:function(e,t){e.setFragmentData(t)},toDOMNode:function(e,t){var r=c.Editor.isEditor(t)?P.get(e):_.get(z.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(JSON.stringify(t)));return r},toDOMPoint:function(e,t){var r,n=c.Editor.node(e,t.path),a=(0,u.default)(n,1)[0],o=z.toDOMNode(e,a);c.Editor.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i=0,l=0,d=Array.from(o.querySelectorAll("[data-slate-string], [data-slate-zero-width]"));l<d.length;l++){var s=d[l],f=s.childNodes[0];if(null!=f&&null!=f.textContent){var p=f.textContent.length,m=s.getAttribute("data-slate-length"),v=i+(null==m?p:parseInt(m,10));if(t.offset<=v){r=[f,Math.min(p,Math.max(0,t.offset-i))];break}i=v}}if(!r)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(JSON.stringify(t)));return r},toDOMRange:function(e,t){var r=t.anchor,n=t.focus,a=c.Range.isBackward(t),o=z.toDOMPoint(e,r),i=c.Range.isCollapsed(t)?o:z.toDOMPoint(e,n),l=window.document.createRange(),d=a?i:o,s=(0,u.default)(d,2),f=s[0],p=s[1],m=a?o:i,v=(0,u.default)(m,2),g=v[0],h=v[1],b=!!(A(f)?f:f.parentElement).getAttribute("data-slate-zero-width"),y=!!(A(g)?g:g.parentElement).getAttribute("data-slate-zero-width");return l.setStart(f,b?1:p),l.setEnd(g,y?1:h),l},toSlateNode:function(e,t){var r=A(t)?t:t.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var n=r?M.get(r):null;if(!n)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return n},findEventRange:function(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var r=t,n=r.clientX,a=r.clientY,o=r.target;if(null==n||null==a)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i,l=z.toSlateNode(e,t.target),u=z.findPath(e,l);if(c.Editor.isVoid(e,l)){var d=o.getBoundingClientRect(),s=e.isInline(l)?n-d.left<d.left+d.width-n:a-d.top<d.top+d.height-a,f=c.Editor.point(e,u,{edge:s?"start":"end"}),p=s?c.Editor.before(e,f):c.Editor.after(e,f);if(p)return c.Editor.range(e,p)}var m=window.document;if(m.caretRangeFromPoint)i=m.caretRangeFromPoint(n,a);else{var v=m.caretPositionFromPoint(n,a);v&&((i=m.createRange()).setStart(v.offsetNode,v.offset),i.setEnd(v.offsetNode,v.offset))}if(!i)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return z.toSlateRange(e,i)},toSlatePoint:function(e,t){var r=function(e){var t=(0,u.default)(e,2),r=t[0],n=t[1];if(A(r)&&r.childNodes.length){var a=n===r.childNodes.length,o=a?"backward":"forward";for(r=q(r,a?n-1:n,o);A(r)&&r.childNodes.length;){var i=a?r.childNodes.length-1:0;r=q(r,i,o)}n=a&&null!=r.textContent?r.textContent.length:0}return[r,n]}(t),n=(0,u.default)(r,2),a=n[0],o=n[1],i=a.parentNode,d=null,s=0;if(i){var c=i.closest('[data-slate-void="true"]'),f=i.closest("[data-slate-leaf]"),p=null;if(f){d=f.closest('[data-slate-node="text"]');var m=window.document.createRange();m.setStart(d,0),m.setEnd(a,o);var v=m.cloneContents();[].concat((0,l.default)(v.querySelectorAll("[data-slate-zero-width]")),(0,l.default)(v.querySelectorAll("[contenteditable=false]"))).forEach((function(e){e.parentNode.removeChild(e)})),s=v.textContent.length,p=d}else c&&(d=(f=c.querySelector("[data-slate-leaf]")).closest('[data-slate-node="text"]'),s=(p=f).textContent.length);p&&s===p.textContent.length&&i.hasAttribute("data-slate-zero-width")&&s--}if(!d)throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t));var g=z.toSlateNode(e,d);return{path:z.findPath(e,g),offset:s}},toSlateRange:function(e,t){var r,n,a,o,i;if((t instanceof Selection?t.anchorNode:t.startContainer)&&(t instanceof Selection?(r=t.anchorNode,n=t.anchorOffset,a=t.focusNode,o=t.focusOffset,i=t.isCollapsed):(r=t.startContainer,n=t.startOffset,a=t.endContainer,o=t.endOffset,i=t.collapsed)),null==r||null==a||null==n||null==o)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var l=z.toSlatePoint(e,[r,n]);return{anchor:l,focus:i?l:z.toSlatePoint(e,[a,o])}}};t.ReactEditor=z;var K=(0,s.createContext)(!1);t.useFocused=function(){return(0,s.useContext)(K)};var U=(0,s.createContext)(null),G=function(){var e=(0,s.useContext)(U);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e};t.useSlateStatic=G;var V=(0,s.createContext)(null),J=function(){var e=(0,s.useContext)(V);if(!e)throw new Error("The `useSlate` hook must be used inside the <SlateProvider> component's context.");return(0,u.default)(e,1)[0]};t.useSlate=J,t.Slate=function(e){var t=e.editor,r=e.children,n=e.onChange,a=e.value,o=w(e,["editor","children","onChange","value"]),d=(0,s.useState)(0),c=(0,u.default)(d,2),f=c[0],p=c[1],m=(0,s.useMemo)((function(){return t.children=a,(0,i.default)(t,o),[t]}),[f,a].concat((0,l.default)(Object.values(o)))),v=(0,s.useCallback)((function(){n(t.children),p(f+1)}),[f,n]);return j.set(t,v),(0,s.useEffect)((function(){return function(){j.set(t,(function(){}))}}),[]),s.default.createElement(V.Provider,{value:m},s.default.createElement(U.Provider,{value:t},s.default.createElement(K.Provider,{value:z.isFocused(t)},r)))},t.useEditor=function(){var e=(0,s.useContext)(U);if(!e)throw new Error("The `useEditor` hook must be used inside the <Slate> component's context.");return e};var Q=(0,s.createContext)(!1),X=function(){return(0,s.useContext)(Q)};t.useReadOnly=X;var Y=(0,s.createContext)(!1);t.useSelected=function(){return(0,s.useContext)(Y)},t.withReact=function(e){var t=e,r=t.apply,n=t.onChange;return t.apply=function(e){var n=[];switch(e.type){case"insert_text":case"remove_text":case"set_node":for(var a,o=b(c.Editor.levels(t,{at:e.path}));!(a=o()).done;){var i=a.value,l=(0,u.default)(i,2),d=l[0],s=l[1],f=z.findKey(t,d);n.push([s,f])}break;case"insert_node":case"remove_node":case"merge_node":case"split_node":for(var p,m=b(c.Editor.levels(t,{at:c.Path.parent(e.path)}));!(p=m()).done;){var v=p.value,g=(0,u.default)(v,2),h=g[0],y=g[1],E=z.findKey(t,h);n.push([y,E])}}r(e);for(var w=0,x=n;w<x.length;w++){var k=x[w],S=(0,u.default)(k,2),C=S[0],D=S[1],O=c.Editor.node(t,C),T=(0,u.default)(O,1)[0];B.set(T,D)}},t.setFragmentData=function(e){var r=t.selection;if(r){var n=c.Range.edges(r),a=(0,u.default)(n,2),o=a[0],i=a[1],l=c.Editor.void(t,{at:o.path}),d=c.Editor.void(t,{at:i.path});if(!c.Range.isCollapsed(r)||l){var s=z.toDOMRange(t,r),f=s.cloneContents(),p=f.childNodes[0];if(f.childNodes.forEach((function(e){e.textContent&&""!==e.textContent.trim()&&(p=e)})),d){var m=(0,u.default)(d,1)[0],v=s.cloneRange(),g=z.toDOMNode(t,m);v.setEndAfter(g),f=v.cloneContents()}if(l&&(p=f.querySelector("[data-slate-spacer]")),Array.from(f.querySelectorAll("[data-slate-zero-width]")).forEach((function(e){var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),W(p)){var h=document.createElement("span");h.style.whiteSpace="pre",h.appendChild(p),f.appendChild(h),p=h}var b=t.getFragment(),y=JSON.stringify(b),E=window.btoa(encodeURIComponent(y));p.setAttribute("data-slate-fragment",E),e.setData("application/x-slate-fragment",E);var w=document.createElement("div");w.appendChild(f),w.setAttribute("hidden","true"),document.body.appendChild(w),e.setData("text/html",w.innerHTML),e.setData("text/plain",H(w)),document.body.removeChild(w)}}},t.insertData=function(e){var r=e.getData("application/x-slate-fragment");if(r){var n=decodeURIComponent(window.atob(r)),a=JSON.parse(n);t.insertFragment(a)}else{var o=e.getData("text/plain");if(o)for(var i,l=!1,u=b(o.split(/\r\n|\r|\n/));!(i=u()).done;){var d=i.value;l&&c.Transforms.splitNodes(t,{always:!0}),t.insertText(d),l=!0}}},t.onChange=function(){g.default.unstable_batchedUpdates((function(){var e=j.get(t);e&&e(),n()}))},t};var Z=function(e){var t=e.isLast,r=e.leaf,n=e.parent,a=e.text,o=G(),i=z.findPath(o,a),l=c.Path.parent(i);return o.isVoid(n)?s.default.createElement(ee,{length:c.Node.string(n).length}):""!==r.text||n.children[n.children.length-1]!==a||o.isInline(n)||""!==c.Editor.string(o,l)?""===r.text?s.default.createElement(ee,null):t&&"\n"===r.text.slice(-1)?s.default.createElement($,{isTrailing:!0,text:r.text}):s.default.createElement($,{text:r.text}):s.default.createElement(ee,{isLineBreak:!0})},$=function(e){var t=e.text,r=e.isTrailing,n=void 0!==r&&r;return s.default.createElement("span",{"data-slate-string":!0},t,n?"\n":null)},ee=function(e){var t=e.length,r=void 0===t?0:t,n=e.isLineBreak,a=void 0!==n&&n;return s.default.createElement("span",{"data-slate-zero-width":a?"n":"z","data-slate-length":r},"\ufeff",a?s.default.createElement("br",null):null)},te=s.default.memo((function(e){var t=e.leaf,r=e.isLast,n=e.text,a=e.parent,o=e.renderLeaf,l=void 0===o?function(e){return s.default.createElement(re,(0,i.default)({},e))}:o,u=s.default.createElement(Z,{isLast:r,leaf:t,parent:a,text:n});return t[F]&&(u=s.default.createElement(s.default.Fragment,null,s.default.createElement("span",{contentEditable:!1,style:{pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",userSelect:"none",fontStyle:"normal",fontWeight:"normal",textDecoration:"none"}},t.placeholder),u)),l({attributes:{"data-slate-leaf":!0},children:u,leaf:t,text:n})}),(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&c.Text.matches(t.leaf,e.leaf)})),re=function(e){var t=e.attributes,r=e.children;return s.default.createElement("span",(0,i.default)({},t),r)};t.DefaultLeaf=re;var ne="undefined"!=typeof window?s.useLayoutEffect:s.useEffect,ae=s.default.memo((function(e){for(var t=e.decorations,r=e.isLast,n=e.parent,a=e.renderLeaf,o=e.text,i=G(),l=(0,s.useRef)(null),u=c.Text.decorations(o,t),d=z.findKey(i,o),f=[],p=0;p<u.length;p++){var m=u[p];f.push(s.default.createElement(te,{isLast:r&&p===u.length-1,key:"".concat(d.id,"-").concat(p),leaf:m,text:o,parent:n,renderLeaf:a}))}return ne((function(){l.current?(_.set(d,l.current),N.set(o,l.current),M.set(l.current,o)):(_.delete(d),N.delete(o))})),s.default.createElement("span",{"data-slate-node":"text",ref:l},f)}),(function(e,t){return t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text})),oe=s.default.memo((function(e){var t=e.decorate,r=e.decorations,n=e.element,a=e.renderElement,o=void 0===a?function(e){return s.default.createElement(ie,(0,i.default)({},e))}:a,l=e.renderLeaf,d=e.selection,f=(0,s.useRef)(null),p=G(),m=X(),g=p.isInline(n),h=z.findKey(p,n),b=s.default.createElement(ue,{decorate:t,decorations:r,node:n,renderElement:o,renderLeaf:l,selection:d}),y={"data-slate-node":"element",ref:f};if(g&&(y["data-slate-inline"]=!0),!g&&c.Editor.hasInlines(p,n)){var E=c.Node.string(n),w=(0,v.default)(E);"rtl"===w&&(y.dir=w)}if(c.Editor.isVoid(p,n)){y["data-slate-void"]=!0,!m&&g&&(y.contentEditable=!1);var x=g?"span":"div",k=c.Node.texts(n),S=(0,u.default)(k,1),C=(0,u.default)(S[0],1)[0];b=m?null:s.default.createElement(x,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},s.default.createElement(ae,{decorations:[],isLast:!1,parent:n,text:C})),O.set(C,0),T.set(C,n)}return ne((function(){f.current?(_.set(h,f.current),N.set(n,f.current),M.set(f.current,n)):(_.delete(h),N.delete(n))})),s.default.createElement(Y.Provider,{value:!!d},o({attributes:y,children:b,element:n}))}),(function(e,t){return e.decorate===t.decorate&&e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&le(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&c.Range.equals(e.selection,t.selection))})),ie=function(e){var t=e.attributes,r=e.children,n=e.element,a=G().isInline(n)?"span":"div";return s.default.createElement(a,(0,i.default)({},t,{style:{position:"relative"}}),r)};t.DefaultElement=ie;var le=function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++){var n=e[r],a=t[r];if(!c.Range.equals(n,a))return!1}return!0},ue=function(e){for(var t=e.decorate,r=e.decorations,n=e.node,a=e.renderElement,o=e.renderLeaf,i=e.selection,l=G(),u=z.findPath(l,n),d=[],f=c.Element.isElement(n)&&!l.isInline(n)&&c.Editor.hasInlines(l,n),p=0;p<n.children.length;p++){for(var m,v=u.concat(p),g=n.children[p],h=z.findKey(l,g),y=c.Editor.range(l,v),E=i&&c.Range.intersection(y,i),w=t([g,v]),x=b(r);!(m=x()).done;){var k=m.value,S=c.Range.intersection(k,y);S&&w.push(S)}c.Element.isElement(g)?d.push(s.default.createElement(oe,{decorate:t,decorations:w,element:g,key:h.id,renderElement:a,renderLeaf:o,selection:E})):d.push(s.default.createElement(ae,{decorations:w,key:h.id,isLast:f&&p===n.children.length-1,parent:n,renderLeaf:o,text:g})),O.set(g,p),T.set(g,n)}return s.default.createElement(s.default.Fragment,null,d)},de=("undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,"undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent)),se="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ce="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),fe="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])/i.test(navigator.userAgent),pe="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])/i.test(navigator.userAgent),me={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},ve={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},ge={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},he=function(e){var t=me[e],r=ve[e],n=ge[e],a=t&&(0,h.isKeyHotkey)(t),o=r&&(0,h.isKeyHotkey)(r),i=n&&(0,h.isKeyHotkey)(n);return function(e){return!(!a||!a(e))||!!(de&&o&&o(e))||!(de||!i||!i(e))}},be={isBold:he("bold"),isCompose:he("compose"),isMoveBackward:he("moveBackward"),isMoveForward:he("moveForward"),isDeleteBackward:he("deleteBackward"),isDeleteForward:he("deleteForward"),isDeleteLineBackward:he("deleteLineBackward"),isDeleteLineForward:he("deleteLineForward"),isDeleteWordBackward:he("deleteWordBackward"),isDeleteWordForward:he("deleteWordForward"),isExtendBackward:he("extendBackward"),isExtendForward:he("extendForward"),isExtendLineBackward:he("extendLineBackward"),isExtendLineForward:he("extendLineForward"),isItalic:he("italic"),isMoveLineBackward:he("moveLineBackward"),isMoveLineForward:he("moveLineForward"),isMoveWordBackward:he("moveWordBackward"),isMoveWordForward:he("moveWordForward"),isRedo:he("redo"),isSplitBlock:he("splitBlock"),isTransposeCharacter:he("transposeCharacter"),isUndo:he("undo")};function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=!(se||fe||pe);t.Editable=function(e){var t=e.autoFocus,r=e.decorate,n=void 0===r?xe:r,a=e.onDOMBeforeInput,l=e.placeholder,d=e.readOnly,f=void 0!==d&&d,v=e.renderElement,g=e.renderLeaf,h=e.style,b=void 0===h?{}:h,y=e.as,E=void 0===y?"div":y,x=w(e,["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","style","as"]),k=J(),C=(0,s.useRef)(null);L.set(k,f);var D=(0,s.useMemo)((function(){return{isComposing:!1,isUpdatingSelection:!1,latestElement:null}}),[]);ne((function(){C.current?(P.set(k,C.current),N.set(k,C.current),M.set(C.current,k)):N.delete(k)})),ne((function(){var e=k.selection,t=window.getSelection();if(!D.isComposing&&t&&z.isFocused(k)){var r="None"!==t.type;if(e||r){var n=P.get(k),a=!1;if(n.contains(t.anchorNode)&&n.contains(t.focusNode)&&(a=!0),!(r&&a&&e&&c.Range.equals(z.toSlateRange(k,t),e))){var o=z.toDOMNode(k,k);D.isUpdatingSelection=!0;var i=e&&z.toDOMRange(k,e);if(i){c.Range.isBackward(e)?t.setBaseAndExtent(i.endContainer,i.endOffset,i.startContainer,i.startOffset):t.setBaseAndExtent(i.startContainer,i.startOffset,i.endContainer,i.endOffset);var l=i.startContainer.parentElement;(0,m.default)(l,{scrollMode:"if-needed",boundary:o})}else t.removeAllRanges();setTimeout((function(){i&&se&&o.focus(),D.isUpdatingSelection=!1}))}}}})),(0,s.useEffect)((function(){C.current&&t&&C.current.focus()}),[t]);var O=(0,s.useCallback)((function(e){if(!f&&Se(k,e.target)&&!Oe(e,a)){var t=k.selection,r=e.inputType,n=e.dataTransfer||e.data||void 0;if("insertCompositionText"===r||"deleteCompositionText"===r)return;if(e.preventDefault(),!r.startsWith("delete")||r.startsWith("deleteBy")){var o=e.getTargetRanges(),i=(0,u.default)(o,1)[0];if(i){var l=z.toSlateRange(k,i);t&&c.Range.equals(t,l)||c.Transforms.select(k,l)}}if(t&&c.Range.isExpanded(t)&&r.startsWith("delete"))return void c.Editor.deleteFragment(k);switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":c.Editor.deleteFragment(k);break;case"deleteContent":case"deleteContentForward":c.Editor.deleteForward(k);break;case"deleteContentBackward":c.Editor.deleteBackward(k);break;case"deleteEntireSoftLine":c.Editor.deleteBackward(k,{unit:"line"}),c.Editor.deleteForward(k,{unit:"line"});break;case"deleteHardLineBackward":c.Editor.deleteBackward(k,{unit:"block"});break;case"deleteSoftLineBackward":c.Editor.deleteBackward(k,{unit:"line"});break;case"deleteHardLineForward":c.Editor.deleteForward(k,{unit:"block"});break;case"deleteSoftLineForward":c.Editor.deleteForward(k,{unit:"line"});break;case"deleteWordBackward":c.Editor.deleteBackward(k,{unit:"word"});break;case"deleteWordForward":c.Editor.deleteForward(k,{unit:"word"});break;case"insertLineBreak":case"insertParagraph":c.Editor.insertBreak(k);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":n instanceof DataTransfer?z.insertData(k,n):"string"==typeof n&&c.Editor.insertText(k,n)}}}),[f,a]);ne((function(){return C.current&&we&&C.current.addEventListener("beforeinput",O),function(){C.current&&we&&C.current.removeEventListener("beforeinput",O)}}),[O]);var T=(0,s.useCallback)((0,p.default)((function(){if(!f&&!D.isComposing&&!D.isUpdatingSelection){var e=window.document.activeElement,t=z.toDOMNode(k,k),r=window.getSelection();if(e===t?(D.latestElement=e,R.set(k,!0)):R.delete(k),!r)return c.Transforms.deselect(k);var n=r.anchorNode,a=r.focusNode,o=Se(k,n)||Ce(k,n),i=Se(k,a)||Ce(k,a);if(o&&i){var l=z.toSlateRange(k,r);c.Transforms.select(k,l)}else c.Transforms.deselect(k)}}),100),[f]);ne((function(){return window.document.addEventListener("selectionchange",T),function(){window.document.removeEventListener("selectionchange",T)}}),[T]);var _=n([k,[]]);if(l&&1===k.children.length&&1===Array.from(c.Node.texts(k)).length&&""===c.Node.string(k)){var B,j=c.Editor.start(k,[]);_.push((B={},(0,o.default)(B,F,!0),(0,o.default)(B,"placeholder",l),(0,o.default)(B,"anchor",j),(0,o.default)(B,"focus",j),B))}return s.default.createElement(Q.Provider,{value:f},s.default.createElement(E,(0,i.default)({"data-gramm":!1,role:f?void 0:"textbox"},x,{spellCheck:we?x.spellCheck:void 0,autoCorrect:we?x.autoCorrect:void 0,autoCapitalize:we?x.autoCapitalize:void 0,"data-slate-editor":!0,"data-slate-node":"value",contentEditable:!f||void 0,suppressContentEditableWarning:!0,ref:C,style:Ee({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},b),onBeforeInput:(0,s.useCallback)((function(e){if(!we&&!f&&!De(e,x.onBeforeInput)&&Se(k,e.target)){e.preventDefault();var t=e.data;c.Editor.insertText(k,t)}}),[f]),onBlur:(0,s.useCallback)((function(e){if(!f&&!D.isUpdatingSelection&&Se(k,e.target)&&!De(e,x.onBlur)&&D.latestElement!==window.document.activeElement){var t=e.relatedTarget;if(!(t===z.toDOMNode(k,k)||A(t)&&t.hasAttribute("data-slate-spacer"))){if(null!=t&&I(t)&&z.hasDOMNode(k,t)){var r=z.toSlateNode(k,t);if(c.Element.isElement(r)&&!k.isVoid(r))return}R.delete(k)}}}),[f,x.onBlur]),onClick:(0,s.useCallback)((function(e){if(!f&&ke(k,e.target)&&!De(e,x.onClick)&&I(e.target)){var t=z.toSlateNode(k,e.target),r=z.findPath(k,t),n=c.Editor.start(k,r),a=c.Editor.end(k,r),o=c.Editor.void(k,{at:n}),i=c.Editor.void(k,{at:a});if(o&&i&&c.Path.equals(o[1],i[1])){var l=c.Editor.range(k,n);c.Transforms.select(k,l)}}}),[f,x.onClick]),onCompositionEnd:(0,s.useCallback)((function(e){Se(k,e.target)&&!De(e,x.onCompositionEnd)&&(D.isComposing=!1,ce||se||!e.data||c.Editor.insertText(k,e.data))}),[x.onCompositionEnd]),onCompositionUpdate:(0,s.useCallback)((function(e){Se(k,e.target)&&!De(e,x.onCompositionUpdate)&&(D.isComposing=!0)}),[x.onCompositionUpdate]),onCompositionStart:(0,s.useCallback)((function(e){if(Se(k,e.target)&&!De(e,x.onCompositionStart)){var t=k.selection;t&&c.Range.isExpanded(t)&&c.Editor.deleteFragment(k)}}),[x.onCompositionStart]),onCopy:(0,s.useCallback)((function(e){Se(k,e.target)&&!De(e,x.onCopy)&&(e.preventDefault(),z.setFragmentData(k,e.clipboardData))}),[x.onCopy]),onCut:(0,s.useCallback)((function(e){if(!f&&Se(k,e.target)&&!De(e,x.onCut)){e.preventDefault(),z.setFragmentData(k,e.clipboardData);var t=k.selection;t&&c.Range.isExpanded(t)&&c.Editor.deleteFragment(k)}}),[f,x.onCut]),onDragOver:(0,s.useCallback)((function(e){if(ke(k,e.target)&&!De(e,x.onDragOver)){var t=z.toSlateNode(k,e.target);c.Editor.isVoid(k,t)&&e.preventDefault()}}),[x.onDragOver]),onDragStart:(0,s.useCallback)((function(e){if(ke(k,e.target)&&!De(e,x.onDragStart)){var t=z.toSlateNode(k,e.target),r=z.findPath(k,t);if(c.Editor.void(k,{at:r})){var n=c.Editor.range(k,r);c.Transforms.select(k,n)}z.setFragmentData(k,e.dataTransfer)}}),[x.onDragStart]),onDrop:(0,s.useCallback)((function(e){if(ke(k,e.target)&&!f&&!De(e,x.onDrop)&&(!we||!ce&&e.dataTransfer.files.length>0)){e.preventDefault();var t=z.findEventRange(k,e),r=e.dataTransfer;c.Transforms.select(k,t),z.insertData(k,r)}}),[f,x.onDrop]),onFocus:(0,s.useCallback)((function(e){if(!f&&!D.isUpdatingSelection&&Se(k,e.target)&&!De(e,x.onFocus)){var t=z.toDOMNode(k,k);if(D.latestElement=window.document.activeElement,se&&e.target!==t)return void t.focus();R.set(k,!0)}}),[f,x.onFocus]),onKeyDown:(0,s.useCallback)((function(e){if(!f&&Se(k,e.target)&&!De(e,x.onKeyDown)){var t=e.nativeEvent,r=k.selection;if(be.isRedo(t))return e.preventDefault(),void(S.isHistoryEditor(k)&&k.redo());if(be.isUndo(t))return e.preventDefault(),void(S.isHistoryEditor(k)&&k.undo());if(be.isMoveLineBackward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"line",reverse:!0});if(be.isMoveLineForward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"line"});if(be.isExtendLineBackward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"line",edge:"focus",reverse:!0});if(be.isExtendLineForward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"line",edge:"focus"});if(be.isMoveBackward(t))return e.preventDefault(),void(r&&c.Range.isCollapsed(r)?c.Transforms.move(k,{reverse:!0}):c.Transforms.collapse(k,{edge:"start"}));if(be.isMoveForward(t))return e.preventDefault(),void(r&&c.Range.isCollapsed(r)?c.Transforms.move(k):c.Transforms.collapse(k,{edge:"end"}));if(be.isMoveWordBackward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"word",reverse:!0});if(be.isMoveWordForward(t))return e.preventDefault(),void c.Transforms.move(k,{unit:"word"});if(!we){if(be.isBold(t)||be.isItalic(t)||be.isTransposeCharacter(t))return void e.preventDefault();if(be.isSplitBlock(t))return e.preventDefault(),void c.Editor.insertBreak(k);if(be.isDeleteBackward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteBackward(k));if(be.isDeleteForward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteForward(k));if(be.isDeleteLineBackward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteBackward(k,{unit:"line"}));if(be.isDeleteLineForward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteForward(k,{unit:"line"}));if(be.isDeleteWordBackward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteBackward(k,{unit:"word"}));if(be.isDeleteWordForward(t))return e.preventDefault(),void(r&&c.Range.isExpanded(r)?c.Editor.deleteFragment(k):c.Editor.deleteForward(k,{unit:"word"}))}}}),[f,x.onKeyDown]),onPaste:(0,s.useCallback)((function(e){!Se(k,e.target)||De(e,x.onPaste)||we&&!function(e){return e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length}(e.nativeEvent)||f||(e.preventDefault(),z.insertData(k,e.clipboardData))}),[f,x.onPaste])}),s.default.createElement(ue,{decorate:n,decorations:_,node:k,renderElement:v,renderLeaf:g,selection:k.selection})))};var xe=function(){return[]},ke=function(e,t){return I(t)&&z.hasDOMNode(e,t)},Se=function(e,t){return I(t)&&z.hasDOMNode(e,t,{editable:!0})},Ce=function(e,t){var r=ke(e,t)&&z.toSlateNode(e,t);return c.Editor.isVoid(e,r)},De=function(e,t){return!!t&&(t(e),e.isDefaultPrevented()||e.isPropagationStopped())},Oe=function(e,t){return!!t&&(t(e),e.defaultPrevented)}},3737:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=n(r(9914)).default.div.withConfig({displayName:"Error__WrapError",componentId:"sc-11meakx-0"})(["color:red;margin:0 auto;width:15vw;"]);t.default=function(e){var t=e.children;return a.default.createElement(o,null,t)}},8450:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=r(2146),i=r(79),l=r(7427),u=r(6156);t.default=function(){var e=(0,i.useSelector)(l.selectUserInfo),t=(0,i.useSelector)(l.selectNavs);return console.log("navs",t),a.default.createElement(u.WrapHeader,null,a.default.createElement(u.Menu,null,a.default.createElement(u.Logo,{href:"/"},"Nolotus"),a.default.createElement(u.Nav,null,t?t.map((function(t,r){return a.default.createElement(o.Link,{key:r,to:"/"+t.path},"self"===t.path&&e.name?e.name:t.title)})):"加载中")))}},6156:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Logo=t.Nav=t.Menu=t.WrapHeader=void 0;var a=n(r(9914)),o=a.default.header.withConfig({displayName:"styled__WrapHeader",componentId:"lvvqli-0"})(["background-color:#20232a;display:flex;width:100%;"]);t.WrapHeader=o;var i=a.default.div.withConfig({displayName:"styled__Menu",componentId:"lvvqli-1"})(["display:flex;height:60px;width:90%;max-width:1260px;margin:auto;"]);t.Menu=i;var l=a.default.nav.withConfig({displayName:"styled__Nav",componentId:"lvvqli-2"})(["height:100%;display:flex;a{display:flex;transition:color 0.2s ease-out;align-items:center;padding-left:20px;padding-right:20px;font-size:18px;color:#ffffff;font-weight:300;:hover{color:var(--primaryColor);}}"]);t.Nav=l;var u=a.default.a.withConfig({displayName:"styled__Logo",componentId:"lvvqli-3"})(["color:#ffffff;display:flex;align-items:center;margin-right:10px;width:calc(100% / 6);"]);t.Logo=u},2282:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5606)),o=n(r(9297)),i=n(r(9914)).default.label.withConfig({displayName:"Input__WrapInput",componentId:"sc-52eo5g-0"})(["display:block;margin:20px auto;position:relative;width:100%;max-width:280px;*{box-sizing:border-box;}.label{position:absolute;top:1.1rem;left:0;font-size:1.1rem;color:var(--neutralShade4);opacity:1;font-weight:500;transform-origin:0 0;transition:all 0.2s ease;}.border{position:absolute;bottom:0;left:0;height:2px;width:100%;background:var(--primaryColor);transform:scaleX(0);transform-origin:0 0;transition:all 0.15s ease;}input{-webkit-appearance:none;width:100%;border:0;font-family:inherit;padding:12px 0;height:48px;font-size:1.1rem;font-weight:500;border-bottom:2px solid var(--neutralShade3);background:none;border-radius:0;color:#223254;transition:all 0.15s ease;}input:hover{background:rgba(34,50,84,0.03);}input:not(:placeholder-shown) + span{color:#5a667f;transform:translateY(-28px) scale(1);}input:focus{background:none;outline:none;}"," input:focus + span{color:var(--primaryColor);transform:translateY(-28px) scale(0.9);}input:focus + span + .border{transform:scaleX(1);}"],"");t.default=function(e){var t=e.name;return o.default.createElement(i,{htmlFor:t},o.default.createElement("input",(0,a.default)({type:"text"},e,{id:t,placeholder:" "})),o.default.createElement("span",{className:"label"},e.label),o.default.createElement("span",{className:"border"}))}},1319:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=t.LoadingBox=t.LoadingPage=void 0;var a=n(r(9297)),o=n(r(9914)),i=r(799),l=r(887),u=o.default.div.withConfig({displayName:"Loading__StyledLoading",componentId:"sc-1thau5m-0"})(["body{margin:0;}h1{font-family:'Lato',sans-serif;font-weight:300;letter-spacing:2px;font-size:48px;}p{font-family:'Lato',sans-serif;letter-spacing:1px;font-size:14px;color:#333333;}.header{position:relative;text-align:center;background:linear-gradient( 60deg,rgba(84,58,183,1) 0%,rgba(0,172,193,1) 100% );color:white;}.logo{width:50px;fill:white;padding-right:15px;display:inline-block;vertical-align:middle;}.inner-header{height:65vh;width:100%;margin:0;padding:0;}.flex{display:flex;justify-content:center;align-items:center;text-align:center;}.waves{position:relative;width:100%;height:15vh;margin-bottom:-7px;min-height:100px;max-height:150px;}.content{position:relative;height:20vh;text-align:center;background-color:white;}.parallax > use{animation:move-forever 25s cubic-bezier(0.55,0.5,0.45,0.5) infinite;}.parallax > use:nth-child(1){animation-delay:-2s;animation-duration:7s;}.parallax > use:nth-child(2){animation-delay:-3s;animation-duration:10s;}.parallax > use:nth-child(3){animation-delay:-4s;animation-duration:13s;}.parallax > use:nth-child(4){animation-delay:-5s;animation-duration:20s;}@keyframes move-forever{0%{transform:translate3d(-90px,0,0);}100%{transform:translate3d(85px,0,0);}}@media (max-width:768px){.waves{height:40px;min-height:40px;}.content{height:30vh;}h1{font-size:24px;}}"]);t.LoadingPage=function(){return a.default.createElement(u,null,a.default.createElement("div",{className:"header"},a.default.createElement("div",{className:"inner-header flex"},a.default.createElement("h1",null,"Loading")),a.default.createElement("div",null,a.default.createElement("svg",{className:"waves",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 24 150 28",preserveAspectRatio:"none",shapeRendering:"auto"},a.default.createElement("defs",null,a.default.createElement("path",{id:"gentle-wave",d:"M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"})),a.default.createElement("g",{className:"parallax"},a.default.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"0",fill:"rgba(255,255,255,0.7"}),a.default.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"3",fill:"rgba(255,255,255,0.5)"}),a.default.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"5",fill:"rgba(255,255,255,0.3)"}),a.default.createElement("use",{xlinkHref:"#gentle-wave",x:"48",y:"7",fill:"#fff"}))))),a.default.createElement("div",{className:"content flex"},a.default.createElement("p",null,"powerd by | nolotus | Free to use")))},t.LoadingBox=function(){return a.default.createElement("div",{className:"loadding-box"},a.default.createElement(i.FontAwesomeIcon,{className:"loading",icon:l.faCoffee}))},t.Loading=function(){a.default.createElement(i.FontAwesomeIcon,{className:"loading",icon:l.faCoffee})}},4479:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5606)),o=n(r(9297)),i=n(r(4229)),l=n(r(7578)),u=r(5568),d=function(e){var t=e.modalInfo,r=t.title,n=t.content,i=t.buttons;return o.default.createElement(u.WrapWarning,null,o.default.createElement("div",{className:"title"},r),o.default.createElement("div",{className:"content"},n),i&&1===i.length?o.default.createElement(l.default,(0,a.default)({loading:i[0].loading},i[0],{onClick:function(){i[0].onClick()}}),i[0].text):o.default.createElement("div",{className:"button-area"},i&&i.map((function(e){return o.default.createElement(l.default,(0,a.default)({},e,{key:e.type+e.className+e.text,onClick:function(){return e.onClick()}}),e.text)}))))};d.propTypes={modalInfo:i.default.object};var s=d;t.default=s},9563:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=n(r(4229)),i=r(3983),l=r(79),u=n(r(4479)),d=n(r(2566)),s=r(5568),c=function(e){var t=e.modalInfo,r=t.hasCloseButton,n=t.modalType,o=(0,l.useDispatch)(),c=function(){return o({type:"closeModal"})};return(0,i.useKey)("Escape",c),a.default.createElement(s.WrapModal,null,a.default.createElement("div",{className:"over-layer",tabIndex:"0",role:"button",onKeyDown:c,onClick:c}),a.default.createElement("div",{className:"modal-content"},function(){switch(n){case"warning":return a.default.createElement(u.default,e);default:return a.default.createElement("div",null,"modal error,need modalType")}}(),r&&a.default.createElement(d.default,{onClick:c})))};c.propTypes={closeModal:o.default.func,modalInfo:o.default.object};var f=c;t.default=f},5568:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.WrapWarning=t.WrapModal=void 0;var a=n(r(9914)),o=a.default.div.withConfig({displayName:"styled__WrapModal",componentId:"sc-1q2rzzi-0"})([".over-layer{position:fixed;top:0;background-color:rgba(35,35,35,0.5);width:100%;height:100%;z-index:3;}.modal-content{display:flex;position:fixed;left:50%;transform:translateX(-50%);top:0;height:auto;z-index:4;margin:178px auto;p{font-size:16px;}}"]);t.WrapModal=o;var i=a.default.div.withConfig({displayName:"styled__WrapWarning",componentId:"sc-1q2rzzi-1"})(["width:527px;padding:34px 43px;border-radius:10px;box-shadow:0 2px 11px 0 rgba(158,158,166,0.32);border:solid 1px #dadada;background-color:#ffffff;.title{text-align:center;margin-bottom:26px;height:35px;font-size:20px;font-weight:500;color:rgba(51,51,51,1);line-height:28px;}.content{color:#333;font-size:16px;text-align:center;}.button-area{display:flex;justify-content:space-between;width:85%;padding:30px 0 0;margin:0 auto;}"]);t.WrapWarning=i},6149:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=t.Tabs=t.WrapTab=t.WrapTabs=void 0;var a=n(r(9297)),o=n(r(9914)),i=o.default.div.withConfig({displayName:"Tabs__WrapTabs",componentId:"sc-5g4hvz-0"})(["display:flex;margin:0 auto;width:20vw;"]);t.WrapTabs=i;var l=o.default.div.withConfig({displayName:"Tabs__WrapTab",componentId:"sc-5g4hvz-1"})(["display:flex;justify-content:center;align-items:center;width:10vw;padding:10px;border-bottom:",";"],(function(e){return e.active?"2px solid var(--primaryColor)":"none"}));t.WrapTab=l,t.Tabs=function(e){var t=e.children;return a.default.createElement(i,e,t)},t.Tab=function(e){var t=e.children;return a.default.createElement(l,e,t)}},4382:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(2531)),i=a(r(2373)),l=n(r(9297)),u=a(r(4229)),d=r(3175),s=r(7611),c=r(7008),f=function(e){var t=e.name;return(0,l.useEffect)((function(){var e;return(e=(0,i.default)(o.default.mark((function e(){var r,n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getData"),e.prev=1,e.next=4,(0,d.dbGet)(c.linkDb.remote,"org.couchdb.user:"+t);case 4:return r=e.sent,console.log("result",r),n=(0,c.connectDb)("userdb-"+(0,s.toHex)(t)),console.log("userDb",n),e.next=10,n.remote.allDocs({include_docs:!0});case 10:a=e.sent,console.log("list",a),console.log("result",r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])}))),function(){return e.apply(this,arguments)})(),function(){}}),[t]),l.default.createElement("div",null,t)},p=f;t.default=p,f.propTypes={name:u.default.string.isRequired}},8318:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultNavConfig=void 0,t.defaultNavConfig=[{title:"记录",path:"create"},{title:"生活",path:"life"},{title:"发现",path:"find"},{title:"自己",path:"self"}]},8724:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(2531)),i=a(r(2373)),l=a(r(9e3)),u=a(r(5624)),d=n(r(9297)),s=a(r(9579)),c=r(1058),f=a(r(3804)),p=r(5424);function m(){var e=(0,u.default)(["\n  width: 80vw;\n  margin: 100px auto;\n"]);return m=function(){return e},e}r(3175),r(7008);var v=a(r(6177)).default.div(m());t.default=function(){var e,t=(0,d.useState)(),r=(0,l.default)(t,2),n=r[0],a=(r[1],(0,d.useState)()),u=(0,l.default)(a,2),m=u[0],g=u[1],h=(e=(0,i.default)(o.default.mark((function e(t){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("value",t),f.default.isEqual(t,p.initialValue)||!n||(t.map((function(e){console.log("doc",e)})),res&&g(res.rev));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)});return d.default.createElement(s.default,null,d.default.createElement(v,null,m,d.default.createElement(c.CurrentEditor,{onChange:f.default.debounce(h,2e3)})))}},9558:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(2531)),i=a(r(2373)),l=a(r(9e3)),u=n(r(9297)),d=a(r(9579)),s=a(r(4382)),c=r(3175),f=r(7008);t.default=function(){var e=(0,u.useState)([]),t=(0,l.default)(e,2),r=t[0],n=t[1];return(0,u.useEffect)((function(){var e;return(e=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getData"),e.prev=1,e.next=4,(0,c.dbGet)(f.hostDb.remote,"friends");case 4:t=e.sent,console.log("result",t),t&&n(t.list),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])}))),function(){return e.apply(this,arguments)})(),function(){}}),[]),u.default.createElement(d.default,null,u.default.createElement("div",null," 住在本站的站点"),u.default.createElement("div",null,r.map((function(e){return u.default.createElement(s.default,{name:e,key:e})}))),u.default.createElement("div",null," 添加你的个人网站，让更多人看到你（暂未开放）"),u.default.createElement("div",null,"推荐的网站"),u.default.createElement("div",null,"推荐的内容"))}},6471:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(2531)),i=a(r(2373)),l=a(r(9e3)),u=n(r(9297)),d=r(1319),s=r(5334),c=r(3175),f=r(7008),p=r(79);t.default=function(){var e=(0,u.useState)(!0),t=(0,l.default)(e,2),r=t[0],n=t[1],a=(0,p.useDispatch)(),m=(0,p.useSelector)((function(e){return e.setting})).home;return(0,u.useEffect)((function(){var e;return(e=(0,i.default)(o.default.mark((function e(){var t,r;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("hostDb.remote",f.hostDb.remote),e.next=3,(0,c.dbGet)(f.hostDb.remote,"menu");case 3:return t=e.sent,console.log("menu xxx",t),e.next=7,(0,c.dbGet)(f.hostDb.remote,"setting");case 7:if(e.t0=e.sent,e.t0){e.next=10;break}e.t0={};case 10:r=e.t0,a({type:"initSuccess",payload:{menu:t,setting:r}}),n(!1);case 13:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})(),function(){}}),[a]),u.default.createElement(u.default.Fragment,null,r?u.default.createElement(d.LoadingPage,null):u.default.createElement(s.Page,{id:m}))}},1444:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(12)),i=a(r(2531)),l=a(r(2373)),u=a(r(9e3)),d=n(r(9297)),s=r(79),c=a(r(9914)),f=r(799),p=r(887),m=r(7008),v=a(r(9579)),g=r(3175),h=r(2146),b=a(r(1107)),y=r(6149);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=c.default.div.withConfig({displayName:"Life__StyledLife",componentId:"sc-1s247ea-0"})(["width:90%;max-width:1050px;margin:3em auto 0;"]);t.default=function(){var e,t=(0,d.useState)([]),r=(0,u.default)(t,2),n=r[0],a=r[1],o=(0,d.useState)([]),c=(0,u.default)(o,2),E=c[0],k=c[1],S=(0,d.useState)([]),C=(0,u.default)(S,2),D=(C[0],C[1],(0,d.useState)(m.hostDb.remote)),O=(0,u.default)(D,2),T=O[0],P=(O[1],(0,d.useState)("local")),M=(0,u.default)(P,2),_=M[0],N=M[1],B=(0,s.useDispatch)(),L=function(){(0,g.dbAll)(T).then((function(e){e&&a(e.rows)})),(0,g.dbAll)(m.localDb).then((function(e){e&&k(e.rows)}))},R=(e=(0,l.default)(i.default.mark((function e(t){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.dbDelete)(m.localDb,t);case 3:r=e.sent,console.log("deleteResult",r),r&&(L(),F()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),j({modalType:"warning",content:e.t0.message,hasClose:!0}),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(t){return e.apply(this,arguments)}),j=function(e){B({type:"modal",payload:{modalInfo:w({},e)}})},F=function(){return B({type:"closeModal"})};(0,d.useEffect)((function(){return L(),function(){}}),[]);var A,I=(A=(0,l.default)(i.default.mark((function e(t){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("id",t),j({modalType:"warning",title:"确认删除？",content:"删除内容不可恢复！",buttons:[{text:"取消",className:"button-warning-cancel",onClick:F},{text:"确认",className:"button-warning-blue",onClick:function(){R(t)}}]});case 2:case"end":return e.stop()}}),e)}))),function(e){return A.apply(this,arguments)});return d.default.createElement(v.default,null,d.default.createElement(y.Tabs,null,d.default.createElement(y.Tab,{active:"remote"===_,onClick:function(){N("remote")}},"远程"),d.default.createElement(y.Tab,{active:"local"===_,onClick:function(){N("local")}},"本地")),"local"===_?d.default.createElement(x,null,E.map((function(e){return d.default.createElement(b.default,{key:e.id},d.default.createElement("div",null,d.default.createElement(h.Link,{to:{pathname:e.doc._id}},e.doc.title||e.doc._id)),d.default.createElement("div",{className:"delete-button",onClick:function(){return I(e.doc._id)}},d.default.createElement(f.FontAwesomeIcon,{icon:p.faTimes})))}))):d.default.createElement(x,null,n.map((function(e){return d.default.createElement(b.default,{key:e.id},d.default.createElement("div",null,d.default.createElement(h.Link,{to:{pathname:e.doc._id}},e.doc.title||e.doc._id)),d.default.createElement("div",{className:"delete-button",onClick:function(){return I(e.doc._id)}},d.default.createElement(f.FontAwesomeIcon,{icon:p.faTimes})))}))))}},5334:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var o=a(r(2531)),i=a(r(2373)),l=a(r(9e3)),u=n(r(9297)),d=r(3175),s=r(2146),c=r(4253),f=a(r(9579)),p=r(1319),m=r(7008);t.Page=function(e){var t=(0,s.useParams)().id||e.id,r=(0,u.useState)(),n=(0,l.default)(r,2),a=n[0],v=n[1];return(0,u.useEffect)((function(){var e;return(e=(0,i.default)(o.default.mark((function e(){var r,n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.dbGet)(m.localDb,t);case 2:if(!(r=e.sent)){e.next=8;break}return v(r),e.abrupt("return");case 8:return e.next=10,(0,d.dbGet)(m.hostDb.remote,t);case 10:(n=e.sent)&&void 0!==n&&v(n);case 12:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})(),function(){}}),[t]),u.default.createElement(f.default,null,a?u.default.createElement(c.Article,{doc:a}):u.default.createElement(p.LoadingBox,null))}},4433:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(12)),i=a(r(2531)),l=a(r(2373)),u=a(r(9e3)),d=n(r(9297)),s=a(r(9579)),c=r(3360),f=r(2146),p=a(r(7578)),m=a(r(2282)),v=a(r(3737)),g=r(6149),h=r(79),b=r(7008);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t,r,n=(0,f.useHistory)(),a=(0,h.useDispatch)(),y=(0,d.useState)("signin"),w=(0,u.default)(y,2),x=w[0],k=w[1],S=(0,d.useState)(),C=(0,u.default)(S,2),D=C[0],O=C[1],T=(0,h.useSelector)((function(e){return e.authData})).isLogin,P=(t=(0,l.default)(i.default.mark((function e(t,r){var o,l,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("hostDb",b.hostDb),e.next=4,b.hostDb.remote.login(t,r);case 4:return o=e.sent,console.log("logininfo",o),o.ok&&(l={name:o.name,roles:o.roles},u=(0,b.connectDb)(o.name),a({type:"loginSuccess",payload:{userInfo:l,userDb:u}}),n.push("/setting")),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,r){return t.apply(this,arguments)}),M=(r=(0,l.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b.hostDb.remote.signUp(t,r);case 3:return n=e.sent,console.log("signUpinfo",n),n.ok&&(alert("注册成功"),P(t,r)),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),function(e,t){return r.apply(this,arguments)});T&&n.push("/setting");var _,N,B=(0,d.useState)({username:"",password:""}),L=(0,u.default)(B,2),R=L[0],j=L[1],F=(_=(0,l.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(R.username,R.password);case 2:t=e.sent,console.log("loginresult",t),t.error&&O(t.message);case 5:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)}),A=(N=(0,l.default)(i.default.mark((function e(){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(R.username,R.password);case 2:"conflict"===e.sent.error&&O("此用户名已被注册");case 4:case"end":return e.stop()}}),e)}))),function(){return N.apply(this,arguments)}),I=function(e,t){console.log(e,t),j(E(E({},R),{},(0,o.default)({},e,t)))};return d.default.createElement(s.default,null,d.default.createElement(c.WrapSelf,null,d.default.createElement("div",null,d.default.createElement(g.Tabs,null,d.default.createElement(g.Tab,{active:"signin"===x,onClick:function(){k("signin")}},"登录"),d.default.createElement(g.Tab,{active:"signup"===x,onClick:function(){k("signup")}},"注册")),d.default.createElement("form",null,d.default.createElement(v.default,null,D),d.default.createElement(m.default,{label:"名字",onChange:function(e){return I("username",e.target.value)},name:"name",type:"text",id:"inp",placeholder:" "}),d.default.createElement(m.default,{label:"密码",onChange:function(e){return I("password",e.target.value)},name:"password",type:"password",placeholder:" "}),d.default.createElement(p.default,{onClick:function(e){e.preventDefault(),"signin"===x?F():A()}},"提交")))))}},3360:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.WrapSelf=void 0;var a=n(r(9914)).default.div.withConfig({displayName:"styled__WrapSelf",componentId:"sc-1sdc0cx-0"})(["form{width:280px;margin:auto;}"]);t.WrapSelf=a},6109:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.Setting=void 0;var a=n(r(9297)),o=r(79),i=n(r(9579)),l=r(7008),u=r(7732);t.Setting=function(){var e=(0,o.useDispatch)();return a.default.createElement(i.default,null,a.default.createElement(u.BlockEditor,null),a.default.createElement("div",{onClick:function(){l.hostDb.remote.logOut((function(t,r){e({type:"logout"}),history.push("/")}))}},"退出登录"))}},6653:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDevEnv=t.isProdEnv=t.env=void 0;t.env="production",t.isProdEnv=!0,t.isDevEnv=!1},2331:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(9297)),o=n(r(6481)),i=r(9747),l=r(2146),u=r(79),d=r(2768),s=r(9914),c=n(r(7609));t.default=function(e,t){var r=new s.ServerStyleSheet;try{var n=(0,i.renderToString)(r.collectStyles(a.default.createElement(u.Provider,{store:t},a.default.createElement(l.StaticRouter,{location:e.path},(0,d.renderRoutes)(c.default))))),f=r.getStyleTags(),p=o.default.renderStatic();return"\n      <html "+p.htmlAttributes.toString()+'>\n        <head>\n      <link rel="stylesheet" href="/common.css" type="text/css" />\n        '+f+"\n        "+p.title.toString()+"\n        "+p.meta.toString()+"\n        "+p.link.toString()+"\n        </head>\n        <body "+p.bodyAttributes.toString()+'>\n          <div id="root">'+n+'</div>\n          <script src="bundle.js"><\/script>\n        </body>\n      </html>\n    '}catch(e){console.error(e)}finally{r.seal()}}},2471:(e,t,r)=>{var n=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(5624)),o=n(r(9297)),i=n(r(8450));function l(){var e=(0,a.default)(['\n body {\n  margin: 0;\n  padding: 0;\n  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen",\n    "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue",\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n']);return l=function(){return e},e}var u=(0,r(9914).createGlobalStyle)(l());t.default=function(e){var t=e.children;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u,null),o.default.createElement(i.default,null),t)}},9579:(e,t,r)=>{var n=r(396),a=r(314);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(r(2531)),i=a(r(2373)),l=n(r(9297)),u=r(79),d=r(7008),s=a(r(9563)),c=a(r(2471));function f(){return(f=(0,i.default)(o.default.mark((function e(){var t;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.hostDb.remote.getSession();case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("err",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}t.default=function(e){(0,u.useSelector)((function(e){return e.templateName}));var t=(0,u.useSelector)((function(e){return e.modalInfo})),r=(0,u.useDispatch)();return(0,l.useEffect)((function(){return function(){return f.apply(this,arguments)}().then((function(e){if(null!==e.userCtx.name){var t=(0,d.connectDb)(e.userCtx.name),n=e.userCtx;r({type:"loginSuccess",payload:{userInfo:n,userDb:t}})}})),function(){}}),[]),l.default.createElement(l.default.Fragment,null,l.default.createElement(c.default,e),t.isVisible&&l.default.createElement(s.default,{modalInfo:t}))}},2373:e=>{"use strict";e.exports=require("@babel/runtime/helpers/asyncToGenerator")},3315:e=>{"use strict";e.exports=require("@babel/runtime/helpers/classCallCheck")},12:e=>{"use strict";e.exports=require("@babel/runtime/helpers/defineProperty")},5606:e=>{"use strict";e.exports=require("@babel/runtime/helpers/extends")},314:e=>{"use strict";e.exports=require("@babel/runtime/helpers/interopRequireDefault")},396:e=>{"use strict";e.exports=require("@babel/runtime/helpers/interopRequireWildcard")},9e3:e=>{"use strict";e.exports=require("@babel/runtime/helpers/slicedToArray")},5624:e=>{"use strict";e.exports=require("@babel/runtime/helpers/taggedTemplateLiteralLoose")},1332:e=>{"use strict";e.exports=require("@babel/runtime/helpers/toConsumableArray")},2531:e=>{"use strict";e.exports=require("@babel/runtime/regenerator")},6177:e=>{"use strict";e.exports=require("@emotion/styled")},887:e=>{"use strict";e.exports=require("@fortawesome/free-solid-svg-icons")},799:e=>{"use strict";e.exports=require("@fortawesome/react-fontawesome")},3333:e=>{"use strict";e.exports=require("direction")},8337:e=>{"use strict";e.exports=require("emotion")},2127:e=>{"use strict";e.exports=require("express")},6631:e=>{"use strict";e.exports=require("global")},7693:e=>{"use strict";e.exports=require("greenlock-express")},3650:e=>{"use strict";e.exports=require("http-proxy-middleware")},2313:e=>{"use strict";e.exports=require("image-extensions")},841:e=>{"use strict";e.exports=require("is-hotkey")},3348:e=>{"use strict";e.exports=require("is-plain-object")},7515:e=>{"use strict";e.exports=require("is-url")},3804:e=>{"use strict";e.exports=require("lodash")},2400:e=>{"use strict";e.exports=require("lodash/throttle")},3317:e=>{"use strict";e.exports=require("pouchdb")},3407:e=>{"use strict";e.exports=require("pouchdb-authentication")},7196:e=>{"use strict";e.exports=require("pouchdb-find")},4229:e=>{"use strict";e.exports=require("prop-types")},9297:e=>{"use strict";e.exports=require("react")},2268:e=>{"use strict";e.exports=require("react-dom")},9747:e=>{"use strict";e.exports=require("react-dom/server")},6481:e=>{"use strict";e.exports=require("react-helmet")},79:e=>{"use strict";e.exports=require("react-redux")},2768:e=>{"use strict";e.exports=require("react-router-config")},2146:e=>{"use strict";e.exports=require("react-router-dom")},3983:e=>{"use strict";e.exports=require("react-use")},7561:e=>{"use strict";e.exports=require("redux")},8379:e=>{"use strict";e.exports=require("scroll-into-view-if-needed")},560:e=>{"use strict";e.exports=require("slate")},1641:e=>{"use strict";e.exports=require("slate-history")},563:e=>{"use strict";e.exports=require("slate-hyperscript")},9914:e=>{"use strict";e.exports=require("styled-components")}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}(()=>{var e=r(314),t=e(r(2127)),n=e(r(2331)),a=r(2768),o=e(r(7609)),i=e(r(8535)),l=r(6653),u=(0,t.default)(),d=r(3650).createProxyMiddleware;if(l.isProdEnv){var s=d((function(e,t){return"tw.db.nolotus.com"===t.hostname}),{target:"http://localhost:5984",changeOrigin:!0});u.use("/",s)}u.use(t.default.static("public")),u.get("*",(function(e,t){var r=(0,a.matchRoutes)(o.default,e.path).map((function(e){var t=e.route.component;return t.getInitialData?t.getInitialData(i.default):null}));Promise.all(r).then((function(){var r=(0,n.default)(e,i.default);t.send(r)}))})),console.log("env",l.env),l.isProdEnv?r(7693).init({packageRoot:process.cwd(),configDir:"./greenlock.d",maintainerEmail:"s@nolotus.com",cluster:!1}).serve(u):u.listen(3e3,(function(){return console.log("localhost develop 80!")}))})()})();